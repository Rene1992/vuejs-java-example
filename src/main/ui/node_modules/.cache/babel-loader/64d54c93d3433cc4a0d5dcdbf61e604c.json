{"remainingRequest":"F:\\OneDrive\\Documents\\koodit\\vuejs-java-example\\src\\main\\ui\\node_modules\\babel-loader\\lib\\index.js!F:\\OneDrive\\Documents\\koodit\\vuejs-java-example\\src\\main\\ui\\node_modules\\cache-loader\\dist\\cjs.js??ref--0-0!F:\\OneDrive\\Documents\\koodit\\vuejs-java-example\\src\\main\\ui\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\OneDrive\\Documents\\koodit\\vuejs-java-example\\src\\main\\ui\\src\\components\\Dashboard.vue?vue&type=script&lang=js&","dependencies":[{"path":"F:\\OneDrive\\Documents\\koodit\\vuejs-java-example\\src\\main\\ui\\src\\components\\Dashboard.vue","mtime":1602544811206},{"path":"F:\\OneDrive\\Documents\\koodit\\vuejs-java-example\\src\\main\\ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\OneDrive\\Documents\\koodit\\vuejs-java-example\\src\\main\\ui\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"F:\\OneDrive\\Documents\\koodit\\vuejs-java-example\\src\\main\\ui\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"F:\\OneDrive\\Documents\\koodit\\vuejs-java-example\\src\\main\\ui\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuY29uY2F0IjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuam9pbiI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmFycmF5Lm1hcCI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLmZ1bmN0aW9uLm5hbWUiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3Qua2V5cyI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL2VzLm9iamVjdC50by1zdHJpbmciOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5vYmplY3QudmFsdWVzIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMucmVnZXhwLmV4ZWMiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5yZWdleHAudG8tc3RyaW5nIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuc3RyaW5nLnJlcGxhY2UiOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5zdHJpbmcuc3BsaXQiOwppbXBvcnQgX3RvQ29uc3VtYWJsZUFycmF5IGZyb20gIkY6L09uZURyaXZlL0RvY3VtZW50cy9rb29kaXQvdnVlanMtamF2YS1leGFtcGxlL3NyYy9tYWluL3VpL25vZGVfbW9kdWxlcy9AYmFiZWwvcnVudGltZS9oZWxwZXJzL2VzbS90b0NvbnN1bWFibGVBcnJheSI7Ci8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCi8vCmltcG9ydCBIZWFkZXIgZnJvbSAnLi9IZWFkZXIudnVlJzsKaW1wb3J0IENyZWF0ZUN1c3RvbWVyIGZyb20gJy4vQ3JlYXRlQ3VzdG9tZXIudnVlJzsKaW1wb3J0IERpc3BsYXlCb2FyZCBmcm9tICcuL0Rpc3BsYXlCb2FyZC52dWUnOwppbXBvcnQgQ3VzdG9tZXJzIGZyb20gJy4vQ3VzdG9tZXJzLnZ1ZSc7Cgp2YXIgY2xvbmVkZWVwID0gcmVxdWlyZSgnbG9kYXNoLmNsb25lZGVlcCcpOwoKaW1wb3J0IENTVkJ1dHRvbiBmcm9tICcuL0NTVkJ1dHRvbi52dWUnOwppbXBvcnQgeyBnZXRBbGxDdXN0b21lcnMgYXMgX2dldEFsbEN1c3RvbWVycywgZ2V0QWxsQ29tcGFuaWVzIGFzIF9nZXRBbGxDb21wYW5pZXMsIGNyZWF0ZUN1c3RvbWVyLCBkZWxldGVDdXN0b21lciwgc2F2ZUFsbEN1c3RvbWVycyBhcyBfc2F2ZUFsbEN1c3RvbWVycyB9IGZyb20gJy4uL3NlcnZpY2VzL0N1c3RvbWVyU2VydmljZSc7CmV4cG9ydCBkZWZhdWx0IHsKICBuYW1lOiAnRGFzaGJvYXJkJywKICBjb21wb25lbnRzOiB7CiAgICBIZWFkZXI6IEhlYWRlciwKICAgIENyZWF0ZUN1c3RvbWVyOiBDcmVhdGVDdXN0b21lciwKICAgIERpc3BsYXlCb2FyZDogRGlzcGxheUJvYXJkLAogICAgQ3VzdG9tZXJzOiBDdXN0b21lcnMsCiAgICBDU1ZCdXR0b246IENTVkJ1dHRvbgogIH0sCiAgZGF0YTogZnVuY3Rpb24gZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGN1c3RvbWVyczogW10sCiAgICAgIGNvbXBhbmllczogW10sCiAgICAgIGNvbXBhbmllc0hlbHBlcjogW10sCiAgICAgIG51bWJlck9mQ3VzdG9tZXJzOiAwCiAgICB9OwogIH0sCiAgbWV0aG9kczogewogICAgZ2V0QWxsQ3VzdG9tZXJzOiBmdW5jdGlvbiBnZXRBbGxDdXN0b21lcnMoKSB7CiAgICAgIHZhciBfdGhpcyA9IHRoaXM7CgogICAgICBfZ2V0QWxsQ3VzdG9tZXJzKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgX3RoaXMuY3VzdG9tZXJzID0gcmVzcG9uc2UubWFwKGZ1bmN0aW9uIChjdXN0b21lcikgewogICAgICAgICAgY3VzdG9tZXIuY29tcGFuaWVzID0gY3VzdG9tZXIuY29tcGFuaWVzLnNwbGl0KCIsIik7CiAgICAgICAgICByZXR1cm4gY3VzdG9tZXI7CiAgICAgICAgfSk7CiAgICAgICAgX3RoaXMubnVtYmVyT2ZDdXN0b21lcnMgPSBfdGhpcy5jdXN0b21lcnMubGVuZ3RoOwogICAgICB9KTsKICAgIH0sCiAgICBnZXRBbGxDb21wYW5pZXM6IGZ1bmN0aW9uIGdldEFsbENvbXBhbmllcygpIHsKICAgICAgdmFyIF90aGlzMiA9IHRoaXM7CgogICAgICBfZ2V0QWxsQ29tcGFuaWVzKCkudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CiAgICAgICAgX3RoaXMyLmNvbXBhbmllcyA9IHJlc3BvbnNlOwoKICAgICAgICBfdGhpczIuY29tcGFuaWVzLm1hcChmdW5jdGlvbiAoY29tcGFueSkgewogICAgICAgICAgX3RoaXMyLmNvbXBhbmllc0hlbHBlcltjb21wYW55LmlkXSA9IGNvbXBhbnk7CiAgICAgICAgfSk7CiAgICAgIH0pOwogICAgfSwKICAgIGN1c3RvbWVyQ3JlYXRlOiBmdW5jdGlvbiBjdXN0b21lckNyZWF0ZShkYXRhKSB7CiAgICAgIHZhciBfdGhpczMgPSB0aGlzOwoKICAgICAgdmFyIGN1c3RvbWVySWRzID0gW107CiAgICAgIHZhciBjdXN0b21lcklkVGFrZW4gPSBmYWxzZTsKICAgICAgZGF0YS5pZCA9IHRoaXMubnVtYmVyT2ZDdXN0b21lcnMgKyAxOwogICAgICB0aGlzLmN1c3RvbWVycy5tYXAoZnVuY3Rpb24gKGN1c3RvbWVyKSB7CiAgICAgICAgY3VzdG9tZXJJZHMucHVzaChjdXN0b21lci5pZCk7CgogICAgICAgIGlmICghY3VzdG9tZXJJZFRha2VuKSB7CiAgICAgICAgICBpZiAoY3VzdG9tZXIuaWQgPT0gZGF0YS5pZCkgY3VzdG9tZXJJZFRha2VuID0gdHJ1ZTsKICAgICAgICB9CiAgICAgIH0pOwogICAgICBjdXN0b21lcklkcyA9IGN1c3RvbWVySWRzLnNvcnQoKTsKICAgICAgaWYgKGN1c3RvbWVySWRUYWtlbikgZGF0YS5pZCA9IGN1c3RvbWVySWRzW2N1c3RvbWVySWRzLmxlbmd0aCAtIDFdICsgMTsKICAgICAgZGF0YS5jb21wYW5pZXMgPSBkYXRhLmNvbXBhbmllcy50b1N0cmluZygpOwogICAgICBjcmVhdGVDdXN0b21lcihkYXRhKS50aGVuKGZ1bmN0aW9uIChyZXNwb25zZSkgewogICAgICAgIGNvbnNvbGUubG9nKHJlc3BvbnNlKTsKCiAgICAgICAgX3RoaXMzLmdldEFsbEN1c3RvbWVycygpOwogICAgICB9KTsKICAgIH0sCiAgICBjdXN0b21lckRlbGV0ZTogZnVuY3Rpb24gY3VzdG9tZXJEZWxldGUodXNlcikgewogICAgICB2YXIgX3RoaXM0ID0gdGhpczsKCiAgICAgIHVzZXIuY29tcGFuaWVzID0gdXNlci5jb21wYW5pZXMudG9TdHJpbmcoKTsKICAgICAgZGVsZXRlQ3VzdG9tZXIodXNlcikudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CgogICAgICAgIF90aGlzNC5nZXRBbGxDdXN0b21lcnMoKTsKICAgICAgfSk7CiAgICB9LAogICAgc2F2ZUFsbEN1c3RvbWVyczogZnVuY3Rpb24gc2F2ZUFsbEN1c3RvbWVycyhjdXN0b21lcnMpIHsKICAgICAgdmFyIF90aGlzNSA9IHRoaXM7CgogICAgICBjdXN0b21lcnMubWFwKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgdXNlci5jb21wYW5pZXMgPSB1c2VyLmNvbXBhbmllcy50b1N0cmluZygpOwogICAgICAgIHJldHVybiB1c2VyOwogICAgICB9KTsKCiAgICAgIF9zYXZlQWxsQ3VzdG9tZXJzKGN1c3RvbWVycykudGhlbihmdW5jdGlvbiAocmVzcG9uc2UpIHsKICAgICAgICBjb25zb2xlLmxvZyhyZXNwb25zZSk7CgogICAgICAgIF90aGlzNS5nZXRBbGxDdXN0b21lcnMoKTsKICAgICAgfSk7CiAgICB9LAogICAgZXhwb3J0Q1NWOiBmdW5jdGlvbiBleHBvcnRDU1YoKSB7CiAgICAgIHZhciBfdGhpczYgPSB0aGlzOwoKICAgICAgdmFyIGNzdkNvbnRlbnQgPSAiZGF0YTp0ZXh0L2NzdjtjaGFyc2V0PXV0Zi04LCI7CiAgICAgIHZhciBleHBvcnRVc2VycyA9IGNsb25lZGVlcCh0aGlzLmN1c3RvbWVycyk7CiAgICAgIGV4cG9ydFVzZXJzID0gZXhwb3J0VXNlcnMubWFwKGZ1bmN0aW9uICh1c2VyKSB7CiAgICAgICAgdXNlci5jb21wYW5pZXMubWFwKGZ1bmN0aW9uIChjb21wYW55LCBpbmRleCkgewogICAgICAgICAgdXNlci5jb21wYW5pZXNbaW5kZXhdID0gX3RoaXM2LmNvbXBhbmllc0hlbHBlcltjb21wYW55XS5uYW1lOwogICAgICAgICAgcmV0dXJuIGNvbXBhbnk7CiAgICAgICAgfSk7CiAgICAgICAgcmV0dXJuIHVzZXI7CiAgICAgIH0pOwogICAgICBjc3ZDb250ZW50ICs9IFtPYmplY3Qua2V5cyhleHBvcnRVc2Vyc1swXSkuam9pbigiOyIpXS5jb25jYXQoX3RvQ29uc3VtYWJsZUFycmF5KGV4cG9ydFVzZXJzLm1hcChmdW5jdGlvbiAoaXRlbSkgewogICAgICAgIHJldHVybiBPYmplY3QudmFsdWVzKGl0ZW0pLmpvaW4oIjsiKTsKICAgICAgfSkpKS5qb2luKCJcbiIpLnJlcGxhY2UoLyheXFspfChcXSQpL2dtLCAiIik7CiAgICAgIHZhciBkYXRhID0gZW5jb2RlVVJJKGNzdkNvbnRlbnQpOwogICAgICB2YXIgbGluayA9IGRvY3VtZW50LmNyZWF0ZUVsZW1lbnQoImEiKTsKICAgICAgY29uc29sZS5sb2coImRhdGEiLCBkYXRhKTsKICAgICAgbGluay5zZXRBdHRyaWJ1dGUoImhyZWYiLCBkYXRhKTsKICAgICAgbGluay5zZXRBdHRyaWJ1dGUoImRvd25sb2FkIiwgImN1c3RvbWVycy5jc3YiKTsKICAgICAgbGluay5jbGljaygpOwogICAgfQogIH0sCiAgbW91bnRlZDogZnVuY3Rpb24gbW91bnRlZCgpIHsKICAgIHRoaXMuZ2V0QWxsQ29tcGFuaWVzKCk7CiAgICB0aGlzLmdldEFsbEN1c3RvbWVycygpOwogIH0KfTs="},{"version":3,"sources":["Dashboard.vue"],"names":[],"mappings":"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","sourcesContent":["<template>\r\n  <div class=\"hello\">\r\n    <Header />\r\n    <div class=\"container mrgnbtm\">\r\n      <div class=\"row\">\r\n        <div class=\"col-md-8\">\r\n          <CreateCustomer @createCustomer=\"customerCreate($event)\" :companies=\"companies\" />\r\n        </div>\r\n        <div class=\"col-md-4\">\r\n          <DisplayBoard :numberOfCustomers=\"numberOfCustomers\" @getAllCustomers=\"getAllCustomers()\" />\r\n        </div>\r\n      </div>\r\n    </div>\r\n    <div class=\"row mrgnbtm\">\r\n      <Customers v-if=\"customers.length > 0\" @deleteCustomer=\"customerDelete($event)\" :customers=\"customers\" :companies=\"companies\"/>\r\n    </div>\r\n    <div class=\"row mrgnbtm\">\r\n      <div class=\"container mrgnbtm\">\r\n        <button style=\"margin-right:15px\" @click=\"saveAllCustomers(customers)\" type=\"button\" class=\"btn btn-info\">Save all customers</button>\r\n        <CSVButton @exportCSV=\"exportCSV()\"/>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n\r\n<script>\r\nimport Header from './Header.vue'\r\nimport CreateCustomer from './CreateCustomer.vue'\r\nimport DisplayBoard from './DisplayBoard.vue'\r\nimport Customers from './Customers.vue'\r\nconst clonedeep = require('lodash.clonedeep')\r\nimport CSVButton from './CSVButton.vue'\r\nimport { getAllCustomers, getAllCompanies, createCustomer, \r\n  deleteCustomer, saveAllCustomers } from '../services/CustomerService'\r\n\r\nexport default {\r\n    name: 'Dashboard',\r\n    components: {\r\n        Header,\r\n        CreateCustomer,\r\n        DisplayBoard,\r\n        Customers,\r\n        CSVButton\r\n    },\r\n    data() {\r\n        return {\r\n            customers: [],\r\n            companies: [],\r\n            companiesHelper: [],\r\n            numberOfCustomers: 0\r\n        }\r\n    },\r\n    methods: {\r\n        getAllCustomers() {\r\n            getAllCustomers().then(response => {\r\n                console.log(response)\r\n                this.customers = response.map(customer => {\r\n                    customer.companies = customer.companies.split(\",\");\r\n                    return customer;\r\n                })\r\n                this.numberOfCustomers = this.customers.length\r\n            })\r\n        },\r\n        getAllCompanies() {\r\n            getAllCompanies().then(response => {\r\n                console.log(response)\r\n                this.companies = response\r\n                this.companies.map(company => {\r\n                    this.companiesHelper[company.id] = company;\r\n                })\r\n            })\r\n        },\r\n        customerCreate(data) {\r\n            let customerIds = [];\r\n            let customerIdTaken = false;\r\n            data.id = this.numberOfCustomers +1;    \r\n            this.customers.map(customer => {\r\n                customerIds.push(customer.id);\r\n                if(!customerIdTaken) {if(customer.id == data.id) customerIdTaken = true;}  \r\n            });\r\n            customerIds = customerIds.sort();\r\n            if(customerIdTaken) data.id = customerIds[customerIds.length-1] +1;\r\n            data.companies = data.companies.toString();\r\n            createCustomer(data).then(response => {\r\n                console.log(response);\r\n                this.getAllCustomers();\r\n            });\r\n        },\r\n        customerDelete(user) {\r\n            user.companies = user.companies.toString();\r\n            deleteCustomer(user).then(response => {\r\n                console.log(response);\r\n                this.getAllCustomers();\r\n            });\r\n        },\r\n        saveAllCustomers(customers) {\r\n            customers.map(user => {\r\n                user.companies = user.companies.toString();\r\n                return user;\r\n            });\r\n            saveAllCustomers(customers).then(response => {\r\n                console.log(response);\r\n                this.getAllCustomers();\r\n            });\r\n        },\r\n        exportCSV() {\r\n            let csvContent = \"data:text/csv;charset=utf-8,\";\r\n            let exportUsers = clonedeep(this.customers);\r\n            exportUsers = exportUsers.map(user => {\r\n                user.companies.map((company, index) => {\r\n                    user.companies[index] = this.companiesHelper[company].name;\r\n                    return company\r\n                })\r\n                return user;\r\n            })\r\n            csvContent += [\r\n                Object.keys(exportUsers[0]).join(\";\"),\r\n                ...exportUsers.map(item => Object.values(item).join(\";\"))\r\n            ]\r\n                .join(\"\\n\")\r\n                .replace(/(^\\[)|(\\]$)/gm, \"\");\r\n            const data = encodeURI(csvContent);\r\n            const link = document.createElement(\"a\");\r\n            console.log(\"data\", data);\r\n            link.setAttribute(\"href\", data);\r\n            link.setAttribute(\"download\", \"customers.csv\");\r\n            link.click();\r\n        }\r\n    },\r\n    mounted () {\r\n        this.getAllCompanies();\r\n        this.getAllCustomers();\r\n    }\r\n}\r\n</script>"],"sourceRoot":"src/components"}]}